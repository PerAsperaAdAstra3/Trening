<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="utf-8"/>
<script src="../../scripts/jquery-3.2.1.min.js"></script>
<script src="../../scripts/bootstrap.min.js"></script>
<script src="../../scripts/functions.js"></script>
<script src="../../scripts/filterTable.js"></script>
<script src="../../scripts/ajaxFunctions.js"></script>
<title>Login</title>
<link rel="stylesheet" type="text/css" th:href="@{/css/bootstrap.min.css}"/>
<link rel="stylesheet" type="text/css" th:href="@{/css/style.css}"/>
<link rel="stylesheet" type="text/css" th:href="@{/css/test/main.css}"/>
<link rel="stylesheet" type="text/css" th:href="@{/css/test/util.css}"/>
<script type="text/javascript">

$(document).on("click", "#forgotPassword", function(event) {
	$("#myModal").show();
});

$(document).on("click", "#hideModal", function(event) {
	$("#myModal").hide();
});

$(document).on("click", "#sendMail", function(event) {
//	var emailVar = $(".emailToSendPasswordTo")
//	forgotEmail(emailVar)
//	$("#myModal").hide();
});


</script>
<script th:inline="javascript">
/*<![CDATA[*/    

    var error = /*[[${param.error}]]*/ 'default';
    var logedout = /*[[${param.logout}]]*/ 'default';
    var noEmail = /*[[${emailNotInDB}]]*/ 'default';
    window.onload = function() {
        if(error){
        	$('#modalError').modal('show');
        } 
        if(logedout){
        	$('#modalLogout').modal('show');
        } 
        if(noEmail){
        	$('#modalNoEmail').modal('show');
        }
    };

/*]]>*/
</script>
</head>
<body>
<input type="hidden" th:value="${emailNotInDB}" id="emailNotInDB"/>
	<div class="limiter">
		<div class="container-login100">
			<div class="wrap-login100">
				<form class="login100-form validate-form p-l-55 p-r-55 p-t-178" th:action="@{/login}" method="post">
					<span class="login100-form-title">
						Unesite korisničko ime i lozinku
					</span>

					<div class="wrap-input100 validate-input m-b-16" data-validate="Please enter username">
						<input class="input100" type="text" name="username" placeholder="Korisničko ime" th:required="required" th:autofocus="autofocus"/>
						<span class="focus-input100"></span>
					</div>

					<div class="wrap-input100 validate-input" data-validate = "Please enter password">
						<input class="input100" type="password" name="password" placeholder="Lozinka" th:required="required" />
						<span class="focus-input100"></span>
					</div>

					<div class="text-right p-t-13 p-b-23">
						<span class="txt1">
							Da li ste zaboravili
						</span>

						<a id="forgotPassword" href="#" class="txt2">
							Lozinku?
						</a>
					</div>

					<div class="container-login100-form-btn">
						<button class="login100-form-btn">
						 	Prijavite se
						</button>
					</div>
					<br/>
					<br/>
	<!-- 				<div class="flex-col-c p-t-170 p-b-40">
						<span class="txt1 p-b-9">
							Don’t have an account?
						</span>

						<a href="#" class="txt3">
							Sign up now
						</a>
					</div> -->
				</form>
			</div>
		</div>
	</div>
	
<div id="myModal" class="modal fade" role="dialog">
  <div class="modal-dialog modal-lg" style="width:300px;">

    <!-- Modal content-->
<div class="modal-content">
	<div class="modal-header">
    </div>
<div class="modal-body">

<div class="container-responsive">
<h4 align="center" class="modal-title">Unesite vašu email adresu!</h4>
	<form th:action="@{/sendEmail}" method="POST">
	<table  id = "myTableExercises">
		<thead>
		</thead>
		<tbody>
			<tr class="modal-table-coloring" id="tr-entity-list-modal">
				<td><input type="text" name="emailAddress" class="emailToSendPasswordTo form-control"/></td>
				<td><input type="hidden" class="packageElementHidden" /></td>
			</tr>
			<tr>
			<td><button id="sendMail" class="btn btn-success">Šalji Email</button>&nbsp;&nbsp;<button id="hideModal" type="button" class="btn btn-success" data-dismiss="modal">Zatvori</button></td></tr>
		</tbody>
	</table>
	</form>
</div>
      </div>
    </div>
  </div>
</div>

<div id="modalLogout" class="modal fade" role="dialog">
  <div class="modal-dialog modal-lg" style="width:300px;">

    <!-- Modal content-->
<div class="modal-content">
	<div class="modal-header">
    </div>
<div class="modal-body">

<div class="container-responsive">
<h4 align="center" class="modal-title">Izlogovani ste</h4>
	<br/><br/>
	<div align="center"><button style="float:center" id="hideModal" type="button" class="btn btn-success" data-dismiss="modal">Zatvori</button></div>
	
</div>
      </div>
    </div>
  </div>
</div>
	
<div id="modalError" class="modal fade" role="dialog">
  <div class="modal-dialog modal-lg" style="width:300px;">

    <!-- Modal content-->
<div class="modal-content">
	<div class="modal-header">
    </div>
<div class="modal-body">

<div class="container-responsive">
<h4 align="center" class="modal-title">Neispravni podaci!</h4>
	<br/><br/>
	<div align="center"><button id="hideModal" type="button" class="btn btn-success" data-dismiss="modal">Zatvori</button></div>
	
</div>
      </div>
    </div>
  </div>
</div>	
	
<div id="modalNoEmail" class="modal fade" role="dialog">
  <div class="modal-dialog modal-lg" style="width:300px;">

    <!-- Modal content-->
<div class="modal-content">
	<div class="modal-header">
    </div>
<div class="modal-body">

<div class="container-responsive">
<h4 align="center" class="modal-title">Uneseni email ne postoji u bazi!</h4>
	<br/><br/>
	<div align="center"><button id="hideModal" type="button" class="btn btn-success" data-dismiss="modal">Zatvori</button></div>
	
</div>
      </div>
    </div>
  </div>
</div>
	
</body>
</html>